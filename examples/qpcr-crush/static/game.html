<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>qPCR Crush</title>
    <link href="/static/bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        min-height: 100vh;
        padding-right: 0px !important;
        font-size: 16px;
        background-color: #111;
      }

      canvas {
        width: 1020px;
        height: 650px;
        margin: 50px auto;
        display: block;
        background-color: #fff;
      }

      .modal-body p {
        text-align: center;
      }

      #error {
        font-weight: bold;
        color: red;
      }

      #start-modal .modal-title {
        float: left;
      }

      #logo {
        width: 15%;
        height: 15%;
        float: right;
      }

      #tiles {
        margin: 20px auto;
        display: block;
      }

      .modal-open {
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div>
      <canvas id="qpcr-crush" width="1020" height="650"></canvas>
    </div>
    <div id="start-modal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">qPCR Crush</h4>
            <img id="logo" src="/static/logo.jpg">
          </div>
          <div class="modal-body">
            <img id="tiles" src="/static/gfx/atlas.png">
            <p>See how many amplicons you can rack up in a minute by matching 3 or more tiles vertically or horizontally.
            <p><b>High scorers are entered into a prize raffle where winners are drawn hourly!</b></p>
          </div>
          <div class="modal-footer">
            <button type="button" id="start-game" class="btn btn-success" data-dismiss="modal">Start Game</button>
          </div>
        </div>
      </div>
    </div>
    <div id="game-over-modal" class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Submit Score</h4>
          </div>
          <form id="score-submit-form">
            <div class="modal-body">
              <p class="lead text-uppercase" style="margin-bottom: 10px">You scored</p>
              <h1 class="text-center" style="margin-top: 10px" data-score>0</h1>
              <p class="lead text-uppercase">Amplicons</p><br>
              <p><b>Submit your score for a chance to win a raffle prize!</b></p>
              <p id="error" style="display: none">Something went wrong. Please try resubmitting your score.</p>
                <div class="form-group">
                  <label for="alias">Alias</label>
                  <input type="text" name="alias" class="form-control" id="alias" placeholder="Biosearch16" required>
                </div>
                <div class="form-group">
                  <label for="badge-id">First & Last Name</label>
                  <input type="text" name="badgeId" class="form-control" id="badge-id" placeholder="John Smith" required>
                </div>
                <input type="hidden" name="score" class="form-control" id="score">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-replay data-dismiss="modal">No Thanks</button>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="submit-success-modal" class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Score Submission Success</h4>
          </div>
          <div class="modal-body">
            <p class="lead">Your score has been successfully submitted!</p>
            <p>Check the leaderboard to see if you've placed a high score.</p>
            <p><b>High scorers are entered into a prize raffle where winners are drawn hourly!</b></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-replay data-dismiss="modal">Replay</button>
          </div>
        </div>
      </div>
    </div>
    <script src="/static/bower_components/jquery/dist/jquery.js"></script>
    <script src="/static/bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <!--<script src="/static/adamengine-dev.js"></script>
    <script src="/static/qpcrcrush.js"></script>-->
    <script src="/static/qpcrcrush.min.js"></script>
  </body>
</html>